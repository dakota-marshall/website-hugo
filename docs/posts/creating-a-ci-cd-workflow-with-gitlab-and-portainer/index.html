<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="">
<meta name="description" content="Creating A CI/CD Workflow With Gitlab and Portainer Overview I&amp;rsquo;ve been trying to look for good ways to automate the deployment / updates of docker containers, while keeping the simplicity of writing docker-compose files, for quite awhile. I started off trying to implement this via Ansible and AWX, as thats the automation platform I use for a lot of my other homelab configuration, but it does not really seem designed to do that sort of thing." />
<meta name="keywords" content="homepage, blog" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="http://dakotamarshall.net/posts/creating-a-ci-cd-workflow-with-gitlab-and-portainer/" />


    <title>
        
            Creating A CI/CD Workflow With Gitlab and Portainer :: Dakota Marshall 
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">



<link rel="stylesheet" href="/main.031a8efc33f94f55a4071bf4e91596478a5809fc8c148fab113801189cfd2152.css">






<meta itemprop="name" content="Creating A CI/CD Workflow With Gitlab and Portainer">
<meta itemprop="description" content="Creating A CI/CD Workflow With Gitlab and Portainer Overview I&rsquo;ve been trying to look for good ways to automate the deployment / updates of docker containers, while keeping the simplicity of writing docker-compose files, for quite awhile. I started off trying to implement this via Ansible and AWX, as thats the automation platform I use for a lot of my other homelab configuration, but it does not really seem designed to do that sort of thing."><meta itemprop="datePublished" content="2022-04-18T11:40:19-04:00" />
<meta itemprop="dateModified" content="2022-04-18T11:40:19-04:00" />
<meta itemprop="wordCount" content="207"><meta itemprop="image" content="http://dakotamarshall.net/"/>
<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="http://dakotamarshall.net/"/>

<meta name="twitter:title" content="Creating A CI/CD Workflow With Gitlab and Portainer"/>
<meta name="twitter:description" content="Creating A CI/CD Workflow With Gitlab and Portainer Overview I&rsquo;ve been trying to look for good ways to automate the deployment / updates of docker containers, while keeping the simplicity of writing docker-compose files, for quite awhile. I started off trying to implement this via Ansible and AWX, as thats the automation platform I use for a lot of my other homelab configuration, but it does not really seem designed to do that sort of thing."/>




    <meta property="og:title" content="Creating A CI/CD Workflow With Gitlab and Portainer" />
<meta property="og:description" content="Creating A CI/CD Workflow With Gitlab and Portainer Overview I&rsquo;ve been trying to look for good ways to automate the deployment / updates of docker containers, while keeping the simplicity of writing docker-compose files, for quite awhile. I started off trying to implement this via Ansible and AWX, as thats the automation platform I use for a lot of my other homelab configuration, but it does not really seem designed to do that sort of thing." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://dakotamarshall.net/posts/creating-a-ci-cd-workflow-with-gitlab-and-portainer/" /><meta property="og:image" content="http://dakotamarshall.net/"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-04-18T11:40:19-04:00" />
<meta property="article:modified_time" content="2022-04-18T11:40:19-04:00" />







    <meta property="article:published_time" content="2022-04-18 11:40:19 -0400 EDT" />










    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">cd ~/</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about-me">About Me</a></li><li><a href="/posts">Posts</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        One minute

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="http://dakotamarshall.net/posts/creating-a-ci-cd-workflow-with-gitlab-and-portainer/">Creating A CI/CD Workflow With Gitlab and Portainer</a>
      </h1>

      

      

      

      <div class="post-content">
        <h1 id="creating-a-cicd-workflow-with-gitlab-and-portainer">Creating A CI/CD Workflow With Gitlab and Portainer</h1>
<p><img src="/static/img/portainer.png" alt="portainer.png"> <img src="/static/img/gitlab.png" alt="gitlab.png"></p>
<h2 id="overview">Overview</h2>
<p>I&rsquo;ve been trying to look for good ways to automate the deployment / updates of docker containers, while keeping the simplicity of writing docker-compose files, for quite awhile. I started off trying to implement this via Ansible and <a href="https://github.com/ansible/awx">AWX</a>, as thats the automation platform I use for a lot of my other homelab configuration, but it does not really seem designed to do that sort of thing. The docker module in Ansible allows for the deployment of containers, but will only accept its own type of <code>yml</code> config. I already had a bunch of docker-compose files, so that was a no go.</p>
<p>Then I had the idea to go full bore and try and migrate everything over to Kubernetes using Rancher. While this isnt a bad idea, and definitely something I want to shoot for in the future, it was <em>way</em> more complicated than what I was looking for at the time. I was looking for something simple, and able to use what configuration I already had to manage it. I was getting to the point where I thought I would have to build an application to deploy docker-compose files over the Docker API using the TCP socket.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        207 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2022-04-18 11:40 -0400
        

         
          
        
      </p>
    </div>

    
    <div class="pagination">
        <div class="pagination__title">
            <span class="pagination__title-h"></span>
            <hr />
        </div>

        <div class="pagination__buttons">
            

            
            <span class="button next">
                <a href="http://dakotamarshall.net/posts/hello-world/">
                    <span class="button__text">Hello World</span>
                    <span class="button__icon">â†’</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            
            
            
            <span><a href="http://dakotamarshall.net/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.2d3d449fc0ff117f00ac91342a8f76cd5b710411d7a0254dbe75da3234d2f685d6a0c44cff60c414e90b6a149da8e4032c713c25e4e6838e2e3918dc0ad2e81c.js" integrity="sha512-LT1En8D/EX8ArJE0Ko92zVtxBBHXoCVNvnXaMjTS9oXWoMRM/2DEFOkLahSdqOQDLHE8JeTmg44uORjcCtLoHA=="></script>



    </body>
</html>
